
CDIR=		${.CURDIR}/../../../../contrib/racoon2/
.PATH: 		${CDIR}/lib


CFLAGS+=	-I${CDIR} -I${CDIR}/lib/

NO_MAN=

SHLIB_MAJOR= 	0
SHLIBDIR?= 	/lib


LIB=		racoon
CFLAGS+=	-DENABLE_SECURE
CFLAGS+=	-Werror
#CFLAGS+=	-Wall -Wmissing-prototypes -Wmissing-declarations -g -O
#CFLAGS+=	-DINET6=1
CFLAGS+=	-DSTDC_HEADERS=1
CFLAGS+=	-DHAVE_SYS_WAIT_H=1
CFLAGS+=	-DHAVE_SYS_TIME_H=1
CFLAGS+=	-DHAVE_NET_IF_VAR_H=1
CFLAGS+=	-DHAVE_NET_ETHERNET_H=1
CFLAGS+=	-DHAVE_LIMITS_H=1
CFLAGS+=	-DHAVE_UNISTD_H=1
CFLAGS+=	-DHAVE_STDARG_H=1
CFLAGS+=	-DHAVE_NETIPSEC_IPSEC_H=1
CFLAGS+=	-DHAVE_NET_PFKEYV2_H=1
CFLAGS+=	-DENABLE_NATT=1
CFLAGS+=	-DTIME_WITH_SYS_TIME=1
CFLAGS+=	-DHAVE_STRFTIME=1
CFLAGS+=	-DHAVE_VPRINTF=1
CFLAGS+=	-DHAVE_GETTIMEOFDAY=1
CFLAGS+=	-DHAVE_MKTIME=1
CFLAGS+=	-DHAVE_SOCKET=1
CFLAGS+=	-DHAVE_STRDUP=1
CFLAGS+=	-DHAVE_STRERROR=1
CFLAGS+=	-DHAVE_STRTOL=1
CFLAGS+=	-DHAVE_GETIFADDRS=1
CFLAGS+=	-DHAVE_STRLCPY=1
CFLAGS+=	-DHAVE_STRLCAT=1
CFLAGS+=	-DHAVE_ATOLL=1
CFLAGS+=	-DHAVE_SA_LEN=1
CFLAGS+=	-DHAVE_OPENSSL_EVP_H=1
CFLAGS+=	-DSYSCONFDIR=\"/etc/racoon2\"
CFLAGS+=	-DCF_DEBUG

SRCS+=			\
	vmbuf.c		\
	rc_type.c	\
	rc_net.c	\
	rc_str.c	\
	if_pfkeyv2.c	\
	if_spmd.c	\
	cfsetup.c	\
	pidfile.c	\
	plog.c		\
	safefile.c	\
	version.c	\
	rbuf.c		\
	addresspool.c	\
	cfparse.y	\
	cftoken.l	\
	y.tab.h

.include <bsd.lib.mk>

